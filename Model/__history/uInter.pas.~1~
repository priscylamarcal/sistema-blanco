unit uInter;

interface

uses uConsultaPaises, uConsultaEstados, uConsultaCidades,
     uCadastroPaises, uCadastroEstados, uCadastroCidades,
     uPaises, uEstados, uCidades,
     uCtrlPaises, uCtrlEstados, uCtrlCidades;

type Inter = class
  private
  protected
    aConsultaPaises  : TConsulta_Paises;
    aConsultaEstados : TConsulta_Estados;
    aConsultaCidades : TConsulta_Cidades;

    oCadastroPaises  : TCadastro_Paises;
    oCadastroEstados : TCadastro_Estados;
    oCadastroCidades : TCadastro_Cidades;
  public
    constructor crieObj;
    destructor destrua_se;
    procedure PDPaises ( pCtrl : ctrlPaises; pObj : Paises );
    procedure PDEstados ( pCtrl : ctrlEstados; pObj : Estados );
    procedure PDCidades ( pCtrl : ctrlCidades; pObj : Cidades);
end;

implementation

{ inter }

constructor Inter.crieObj;
begin
  aConsultaPaises:= TConsulta_Paises.Create(nil);
  aConsultaEstados:= TConsulta_Estados.Create(nil);
  aConsultaCidades:= TConsulta_Cidades.Create(nil);

  oCadastroPaises:= TCadastro_Paises.Create(nil);
  oCadastroEstados:= TCadastro_Estados.Create(nil);
  oCadastroCidades:= TCadastro_Cidades.Create(nil);

  oCadastroEstados.setFrmConsultaPaises( aConsultaPaises );
  oCadastroCidades.setFrmConsultaEstados( aConsultaEstados );

  aConsultaPaises.setFrmCadastro( oCadastroPaises );
  aConsultaEstados.setFrmCadastro( oCadastroEstados );
  aConsultaCidades.setFrmCadastro( oCadastroCidades );
end;

destructor Inter.destrua_se;
begin
  aConsultaPaises.FreeInstance;
  aConsultaEstados.FreeInstance;
  aConsultaCidades.FreeInstance;

  oCadastroPaises.FreeInstance;
  oCadastroEstados.FreeInstance;
  oCadastroCidades.FreeInstance;
end;

procedure Inter.PDCidades ( pCtrl : ctrlCidades; pObj : Cidades);
begin
  aConsultaCidades.conhecaObj( pCtrl, pObj );
  aConsultaCidades.ShowModal;
end;

procedure Inter.PDEstados ( pCtrl : ctrlEstados; pObj : Estados );
begin
  aConsultaEstados.conhecaObj( pCtrl, pObj );
  aConsultaEstados.ShowModal;
end;

procedure Inter.PDPaises(pCtrl: ctrlPaises; pObj: Paises);
begin
  aConsultaPaises.conhecaObj( pCtrl, pObj );
  aConsultaPaises.ShowModal;
end;

end.
